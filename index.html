<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PUBG Ban Checker 1.3</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f4f4f4;
      color: #333;
      transition: background 0.3s, color 0.3s;
    }
    body.dark {
      background: #1e1e1e;
      color: #eee;
    }
    h1, h2 {
      margin-bottom: 10px;
    }
    .section {
      background: white;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      transition: background 0.3s, transform 0.2s;
    }
    body.dark .section {
      background: #2a2a2a;
    }
    .controls, .watchlist, .results {
      margin-bottom: 15px;
    }
    input[type=text] {
      padding: 8px;
      width: 70%;
      border-radius: 4px;
      border: 1px solid #ccc;
    }
    button {
      padding: 8px 14px;
      margin: 5px;
      border: none;
      border-radius: 6px;
      background: #007BFF;
      color: white;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
    }
    button:hover {
      background: #0056b3;
      transform: translateY(-2px);
    }
    button.remove {
      background: #dc3545;
    }
    button.remove:hover {
      background: #a71d2a;
    }
    .tooltip {
      border-bottom: 1px dotted #333;
      cursor: help;
    }
    /* Watchlist & Results containers */
    #results .group-result {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    #results .player-row,
    #watchlistPlayersContainer .watchlist-player {
      margin: 6px 0;
      padding: 10px;
      border-radius: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: transform 0.2s ease, background 0.3s ease;
    }
    #results .player-row:hover,
    #watchlistPlayersContainer .watchlist-player:hover {
      transform: translateX(4px);
    }
    #updates {
      font-size: 0.9em;
      color: gray;
      margin-top: 20px;
    }
    .toggle-container {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>PUBG Ban Checker <span class="tooltip" title="Version 1.3 - Watchlist + Dark Mode">ℹ️</span></h1>

  <!-- Controls -->
  <div class="section controls">
    <h2>Search</h2>
    <p>Check if players are banned on Steam, Xbox, or PlayStation.</p>
    <p><small>Example: <i>player1, player2, player3</i> (max 10)</small></p>
    <input type="text" id="playerNames" placeholder="Enter player names (comma separated)">
    <br>
    <button id="checkBan">Check Ban</button>
    <button id="clearResults">Clear Results</button>
  </div>

  <!-- Watchlist -->
  <div class="section watchlist">
    <h2>Watchlist</h2>
    <div class="toggle-container">
      <label><input type="checkbox" id="autoCheckToggle"> Auto-check watchlist on load</label>
    </div>
    <div id="watchlistPlayersContainer"></div>
    <button onclick="checkAllWatchlist()">Check All Watchlist</button>
  </div>

  <!-- Results -->
  <div class="section results">
    <h2>Results</h2>
    <div id="results"></div>
  </div>

  <!-- Updates -->
  <div id="updates">
    <strong>Updates (v1.3):</strong>
    <ul>
      <li>Search multiple names (up to 10) via commas.</li>
      <li>Watchlist added with auto-check option.</li>
      <li>Names remembered for quick lookup.</li>
      <li>Dark mode toggle & UI tweaks.</li>
    </ul>
  </div>

  <!-- Dark mode toggle -->
  <div class="toggle-container">
    <button id="darkModeToggle">Toggle Dark Mode</button>
  </div>

<script>
  // Watchlist helpers
  function getWatchlist() {
    return JSON.parse(localStorage.getItem("watchlist") || "[]");
  }
  function saveWatchlist(list) {
    localStorage.setItem("watchlist", JSON.stringify(list));
  }
  function renderWatchlist() {
    const container = document.getElementById("watchlistPlayersContainer");
    container.innerHTML = "";
    getWatchlist().forEach((name, idx) => {
      const div = document.createElement("div");
      div.className = "watchlist-player";
      div.innerHTML = `<span>${name}</span>
        <button class="remove" onclick="removeFromWatchlist(${idx})">Remove</button>`;
      container.appendChild(div);
    });
  }
  function removeFromWatchlist(idx) {
    let list = getWatchlist();
    list.splice(idx,1);
    saveWatchlist(list);
    renderWatchlist();
  }
  function addToWatchlist(name) {
    let list = getWatchlist();
    if(!list.includes(name)) {
      list.push(name);
      saveWatchlist(list);
      renderWatchlist();
    }
  }
  function checkAllWatchlist() {
    checkBanStatus(getWatchlist());
  }

  // Fake API check
  function checkBanStatus(names) {
    const resultsDiv = document.getElementById("results");
    resultsDiv.innerHTML = "";
    if(names.length > 10) {
      resultsDiv.innerHTML = `<p style="color:red;">⚠️ You can only check 10 names at once.</p>`;
      names = names.slice(0,10);
    }
    const groupDiv = document.createElement("div");
    groupDiv.className = "group-result";
    names.forEach(name => {
      const row = document.createElement("div");
      row.className = "player-row";
      const banned = Math.random() < 0.3 ? "❌ Banned" : "✅ Clean";
      row.innerHTML = `<span>${name}</span><span>${banned}</span>
        <button onclick="addToWatchlist('${name}')">Add to Watchlist</button>`;
      groupDiv.appendChild(row);
    });
    resultsDiv.appendChild(groupDiv);
  }

  // Event listeners
  document.getElementById("checkBan").addEventListener("click", () => {
    const names = document.getElementById("playerNames").value
      .split(",").map(n => n.trim()).filter(Boolean);
    checkBanStatus(names);
  });
  document.getElementById("clearResults").addEventListener("click", () => {
    document.getElementById("results").innerHTML = "";
  });

  // Dark mode
  document.getElementById("darkModeToggle").addEventListener("click", () => {
    document.body.classList.toggle("dark");
  });

  // Auto-check on load
  window.addEventListener("DOMContentLoaded", () => {
    const autoCheck = localStorage.getItem("autoCheckWatchlist") === "true";
    const autoCheckToggle = document.getElementById("autoCheckToggle");
    autoCheckToggle.checked = autoCheck;
    autoCheckToggle.addEventListener("change", () => {
      localStorage.setItem("autoCheckWatchlist", autoCheckToggle.checked);
    });
    renderWatchlist();
    if(autoCheck && getWatchlist().length) {
      checkAllWatchlist();
    }
  });
</script>
</body>
</html>
